{
  "$schema": "http://adaptivecards.io/schemas/adaptive-card.json",
  "type": "AdaptiveCard",
  "version": "1.4",
  "body": [
    {
      "type": "TextBlock",
      "text": "Prometheus Alert Notification",
      "weight": "Bolder",
      "size": "Large"
    },
    {
      "type": "TextBlock",
      "text": "{{ if eq .Status \"firing\" }}FIRING{{ else }}RESOLVED{{ end }}: {{ .CommonLabels.alertname }}",
      "weight": "Bolder",
      "size": "Medium",
      "color": "{{ if eq .CommonLabels.severity \"critical\" }}Attention{{ else if eq .CommonLabels.severity \"warning\" }}Warning{{ else }}Good{{ end }}"
    },
    {
      "type": "FactSet",
      "facts": [
        { "title": "Expression:", "value": "{{ .Annotations.expression }}" },
        { "title": "Duration:", "value": "{{ .Annotations.duration }}" },
        { "title": "Labels:", "value": "{{ range $key, $value := .Labels }}{{ $key }}: {{ $value }}{{ end }}" },
        { "title": "Annotations:", "value": "Description: {{ .Annotations.description }}, Value: {{ .Annotations.value }}, Summary: {{ .Annotations.summary }}" }
      ]
    },
    {
      "type": "TextBlock",
      "text": "Source: {{ .Annotations.source_url }}",
      "wrap": true,
      "color": "Accent"
    },
    {
      "type": "ActionSet",
      "actions": [
        {
          "type": "Action.OpenUrl",
          "title": "View Alert in Prometheus",
          "url": "{{ .Annotations.source_url }}"
        }
      ]
    }
  ]
}

